!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="./src/main.js")}({"./src/main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observer=void 0;var r,o=n("./src/observer.js"),i=(r=o)&&r.__esModule?r:{default:r};t.Observer=i.default},"./src/observer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==(void 0===t?"undefined":o(t))||t instanceof e||t.__events__||t.__listeners__||t.subscribe||t.unsubscribe||t.publish)throw new TypeError("不符合观察条件，请删除以下对象.\n\t\t\t\t\n__events__\n__listeners__\nsubscribe\nunsubscribe\npublish\n\t\t\t");for(var n in e.prototype.__events__={},e.prototype.__listeners__=[],t)this[n]=t[n]}return i(e,[{key:"subscribe",value:function(e,t){if("object"===(void 0===e?"undefined":o(e)))for(key in e)e.hasOwnProperty(key)&&"function"==typeof e[key]&&this.subscribe(key,e[key]);else"string"==typeof e&&"function"==typeof t?(this.__events__[e]||(this.__events__[e]=[]),this.__events__[e].push(t)):"function"==typeof e&&this.__listeners__.push(e);return this}},{key:"unsubscribe",value:function(e){return"string"==typeof e?this.__events__[e]=[]:void 0===(void 0===e?"undefined":o(e))&&(this.__listeners__=[]),this}},{key:"publish",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t instanceof Array||"object"!==(void 0===t?"undefined":o(t))||t.event)throw new TypeError("参数必须是对象, 且别带event关键字");if("string"==typeof e&&this.__events__.hasOwnProperty(e)&&this.__events__[e]instanceof Array)for(var n=0;n<this.__events__[e].length&&!1!==this.__events__[e][n].call(this,t);n++);for(var i=0;i<this.__listeners__.length&&!1!==this.__listeners__[i].call(this,r({},t,{event:e}));i++);return this}}]),e}();t.default=s}})});