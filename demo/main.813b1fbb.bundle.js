!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/wya-ps/demo",t(t.s="./examples/main.js")}({"./examples/main.js":function(e,n,t){"use strict";var r=0,o=new(t("./src/main.js").Observer)({a:2});o.subscribe("[event-name]",function(e){var n=e.name;r++,console.log(r,n,void 0)}),o.subscribe("[event-name]",function(e){var n=e.name;r++,console.log(r,n)}),o.subscribe("[event-name]",function(e){var n=e.name;r++,console.log(r,n)}),o.subscribe("[event-name]",function(e){var n=e.name;r++,console.log(r,n)}),o.subscribe("[event-name]",function(e){var n=e.name;r++,console.log(r,n,this,++this.a)}),{a:1,b:function(){var e=this;o.subscribe(function(n){var t=n.name;console.log("有订阅就会执行我"),console.log(e,t)})}}.b(),setTimeout(function(){o.publish("[event-name]",{name:"wya-ps"}).unsubscribe("[event-name]"),o.publish()},5e3)},"./src/main.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Observer=void 0;var r,o=t("./src/observer.js"),s=(r=o)&&r.__esModule?r:{default:r};n.Observer=s.default},"./src/observer.js":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var i=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==(void 0===n?"undefined":o(n))||n instanceof e||n.__events__||n.__listeners__||n.subscribe||n.unsubscribe||n.publish)throw new TypeError("不符合观察条件，请删除以下对象.\n\t\t\t\t\n__events__\n__listeners__\nsubscribe\nunsubscribe\npublish\n\t\t\t");for(var t in e.prototype.__events__={},e.prototype.__listeners__=[],n)this[t]=n[t]}return s(e,[{key:"subscribe",value:function(e,n){if("object"===(void 0===e?"undefined":o(e)))for(key in e)e.hasOwnProperty(key)&&"function"==typeof e[key]&&this.subscribe(key,e[key]);else"string"==typeof e&&"function"==typeof n?(this.__events__[e]||(this.__events__[e]=[]),this.__events__[e].push(n)):"function"==typeof e&&this.__listeners__.push(e);return this}},{key:"unsubscribe",value:function(e){return"string"==typeof e?this.__events__[e]=[]:void 0===(void 0===e?"undefined":o(e))&&(this.__listeners__=[]),this}},{key:"publish",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n instanceof Array||"object"!==(void 0===n?"undefined":o(n))||n.event)throw new TypeError("参数必须是对象, 且别带event关键字");if("string"==typeof e&&this.__events__.hasOwnProperty(e)&&this.__events__[e]instanceof Array)for(var t=0;t<this.__events__[e].length&&!1!==this.__events__[e][t].call(this,n);t++);for(var s=0;s<this.__listeners__.length&&!1!==this.__listeners__[s].call(this,r({},n,{event:e}));s++);return this}}]),e}();n.default=i}})});